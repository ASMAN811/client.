<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">import React, { useState } from 'react';</p>
<p class="p1">import { Plus, Edit2, Trash2, Search, Eye, ChevronDown, ChevronUp } from 'lucide-react';</p>
<p class="p2"><br></p>
<p class="p1">const ClientManagementSystem = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [clients, setClients] = useState(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const savedClients = localStorage.getItem('clientManagementData');</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (savedClients) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>try {</p>
<p class="p1"><span class="Apple-converted-space">        </span>return JSON.parse(savedClients);</p>
<p class="p1"><span class="Apple-converted-space">      </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>return [{</p>
<p class="p1"><span class="Apple-converted-space">          </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">          </span>clientId: 'C2024001',</p>
<p class="p1"><span class="Apple-converted-space">          </span>name: '山田太郎',</p>
<p class="p1"><span class="Apple-converted-space">          </span>kana: 'ヤマダタロウ',</p>
<p class="p1"><span class="Apple-converted-space">          </span>birthDate: '1980-05-15',</p>
<p class="p1"><span class="Apple-converted-space">          </span>age: 44,</p>
<p class="p1"><span class="Apple-converted-space">          </span>gender: '男性',</p>
<p class="p1"><span class="Apple-converted-space">          </span>phone: '090-1234-5678',</p>
<p class="p1"><span class="Apple-converted-space">          </span>area: '東京都渋谷区',</p>
<p class="p1"><span class="Apple-converted-space">          </span>bloodType: 'A型',</p>
<p class="p1"><span class="Apple-converted-space">          </span>referrer: '田中様からのご紹介',</p>
<p class="p1"><span class="Apple-converted-space">          </span>assignedStaff: '佐藤担当者',</p>
<p class="p1"><span class="Apple-converted-space">          </span>sessionPrice: 10000,</p>
<p class="p1"><span class="Apple-converted-space">          </span>sessions: [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">              </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">              </span>date: '2024-11-01',</p>
<p class="p1"><span class="Apple-converted-space">              </span>staff: '佐藤担当者',</p>
<p class="p1"><span class="Apple-converted-space">              </span>duration: '60分',</p>
<p class="p1"><span class="Apple-converted-space">              </span>content: 'キャリアに関する相談、今後の方向性について',</p>
<p class="p1"><span class="Apple-converted-space">              </span>topic: '仕事とプライベートのバランス',</p>
<p class="p1"><span class="Apple-converted-space">              </span>rootEmotion: '不安、焦燥感',</p>
<p class="p1"><span class="Apple-converted-space">              </span>notes: '最近の業務過多により疲労が蓄積',</p>
<p class="p1"><span class="Apple-converted-space">              </span>jurisdiction: '東京オフィス',</p>
<p class="p1"><span class="Apple-converted-space">              </span>nextSession: '次回は具体的なアクションプランを策定予定',</p>
<p class="p1"><span class="Apple-converted-space">              </span>remarks: '定期的なフォローアップが必要'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">          </span>]</p>
<p class="p1"><span class="Apple-converted-space">        </span>}];</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>return [{</p>
<p class="p1"><span class="Apple-converted-space">      </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">      </span>clientId: 'C2024001',</p>
<p class="p1"><span class="Apple-converted-space">      </span>name: '山田太郎',</p>
<p class="p1"><span class="Apple-converted-space">      </span>kana: 'ヤマダタロウ',</p>
<p class="p1"><span class="Apple-converted-space">      </span>birthDate: '1980-05-15',</p>
<p class="p1"><span class="Apple-converted-space">      </span>age: 44,</p>
<p class="p1"><span class="Apple-converted-space">      </span>gender: '男性',</p>
<p class="p1"><span class="Apple-converted-space">      </span>phone: '090-1234-5678',</p>
<p class="p1"><span class="Apple-converted-space">      </span>area: '東京都渋谷区',</p>
<p class="p1"><span class="Apple-converted-space">      </span>bloodType: 'A型',</p>
<p class="p1"><span class="Apple-converted-space">      </span>referrer: '田中様からのご紹介',</p>
<p class="p1"><span class="Apple-converted-space">      </span>assignedStaff: '佐藤担当者',</p>
<p class="p1"><span class="Apple-converted-space">      </span>sessionPrice: 10000,</p>
<p class="p1"><span class="Apple-converted-space">      </span>sessions: [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{</p>
<p class="p1"><span class="Apple-converted-space">          </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">          </span>date: '2024-11-01',</p>
<p class="p1"><span class="Apple-converted-space">          </span>staff: '佐藤担当者',</p>
<p class="p1"><span class="Apple-converted-space">          </span>duration: '60分',</p>
<p class="p1"><span class="Apple-converted-space">          </span>content: 'キャリアに関する相談、今後の方向性について',</p>
<p class="p1"><span class="Apple-converted-space">          </span>topic: '仕事とプライベートのバランス',</p>
<p class="p1"><span class="Apple-converted-space">          </span>rootEmotion: '不安、焦燥感',</p>
<p class="p1"><span class="Apple-converted-space">          </span>notes: '最近の業務過多により疲労が蓄積',</p>
<p class="p1"><span class="Apple-converted-space">          </span>jurisdiction: '東京オフィス',</p>
<p class="p1"><span class="Apple-converted-space">          </span>nextSession: '次回は具体的なアクションプランを策定予定',</p>
<p class="p1"><span class="Apple-converted-space">          </span>remarks: '定期的なフォローアップが必要'</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>]</p>
<p class="p1"><span class="Apple-converted-space">    </span>}];</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const [selectedClient, setSelectedClient] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [viewMode, setViewMode] = useState('list');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [isClientFormOpen, setIsClientFormOpen] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [isSessionFormOpen, setIsSessionFormOpen] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [editingClientId, setEditingClientId] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [searchTerm, setSearchTerm] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showDetailStats, setShowDetailStats] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showMonthlyRevenue, setShowMonthlyRevenue] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showStaffRevenue, setShowStaffRevenue] = useState(false);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// データが変更されたらLocalStorageに保存</p>
<p class="p1"><span class="Apple-converted-space">  </span>React.useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>localStorage.setItem('clientManagementData', JSON.stringify(clients));</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, [clients]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const [clientForm, setClientForm] = useState({</p>
<p class="p1"><span class="Apple-converted-space">    </span>clientId: '', name: '', kana: '', birthDate: '', gender: '男性',</p>
<p class="p1"><span class="Apple-converted-space">    </span>phone: '', area: '', bloodType: '', referrer: '', assignedStaff: '', sessionPrice: ''</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const [sessionForm, setSessionForm] = useState({</p>
<p class="p1"><span class="Apple-converted-space">    </span>date: new Date().toISOString().split('T')[0],</p>
<p class="p1"><span class="Apple-converted-space">    </span>staff: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>duration: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>content: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>topic: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>rootEmotion: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>notes: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>jurisdiction: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>nextSession: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>remarks: ''</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const calculateAge = (birthDate) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const birth = new Date(birthDate);</p>
<p class="p1"><span class="Apple-converted-space">    </span>let age = today.getFullYear() - birth.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const m = today.getMonth() - birth.getMonth();</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (m &lt; 0 || (m === 0 &amp;&amp; today.getDate() &lt; birth.getDate())) age--;</p>
<p class="p1"><span class="Apple-converted-space">    </span>return age;</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const calculateSpiritualNumber = (birthDate) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!birthDate) return null;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const [year, month, day] = birthDate.split('-').map(Number);</p>
<p class="p1"><span class="Apple-converted-space">    </span>let sum = month + day;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 11, 22, 33のゾロ目をチェック</p>
<p class="p1"><span class="Apple-converted-space">    </span>while (sum &gt; 9 &amp;&amp; sum !== 11 &amp;&amp; sum !== 22 &amp;&amp; sum !== 33) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>sum = String(sum).split('').reduce((acc, digit) =&gt; acc + Number(digit), 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return sum;</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const getSpiritualInfo = (number) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const spiritualMap = {</p>
<p class="p1"><span class="Apple-converted-space">      </span>1: { name: '進化', color: 'white', bgColor: 'bg-gray-100', textColor: 'text-gray-800', borderColor: 'border-gray-300' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>2: { name: '調和', color: 'black', bgColor: 'bg-gray-800', textColor: 'text-white', borderColor: 'border-gray-900' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>3: { name: '勇気', color: 'blue', bgColor: 'bg-blue-500', textColor: 'text-white', borderColor: 'border-blue-600' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>4: { name: '愛', color: 'green', bgColor: 'bg-green-500', textColor: 'text-white', borderColor: 'border-green-600' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>5: { name: '吾', color: 'yellow', bgColor: 'bg-yellow-400', textColor: 'text-gray-800', borderColor: 'border-yellow-500' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>6: { name: '創造', color: 'white', bgColor: 'bg-gray-100', textColor: 'text-gray-800', borderColor: 'border-gray-300' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>7: { name: '信念', color: 'red', bgColor: 'bg-red-500', textColor: 'text-white', borderColor: 'border-red-600' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>8: { name: '希望', color: 'white', bgColor: 'bg-gray-100', textColor: 'text-gray-800', borderColor: 'border-gray-300' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>9: { name: '純正', color: 'purple', bgColor: 'bg-purple-500', textColor: 'text-white', borderColor: 'border-purple-600' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>11: { name: '進化', color: 'white', bgColor: 'bg-gray-100', textColor: 'text-gray-800', borderColor: 'border-gray-300' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>22: { name: '調和', color: 'black', bgColor: 'bg-gray-800', textColor: 'text-white', borderColor: 'border-gray-900' },</p>
<p class="p1"><span class="Apple-converted-space">      </span>33: { name: '勇気', color: 'blue', bgColor: 'bg-blue-500', textColor: 'text-white', borderColor: 'border-blue-600' }</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>return spiritualMap[number] || null;</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const resetClientForm = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>setClientForm({</p>
<p class="p1"><span class="Apple-converted-space">      </span>clientId: '', name: '', kana: '', birthDate: '', gender: '男性',</p>
<p class="p1"><span class="Apple-converted-space">      </span>phone: '', area: '', bloodType: '', referrer: '', assignedStaff: '', sessionPrice: ''</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>setIsClientFormOpen(false);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setEditingClientId(null);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const resetSessionForm = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>setSessionForm({</p>
<p class="p1"><span class="Apple-converted-space">      </span>date: new Date().toISOString().split('T')[0],</p>
<p class="p1"><span class="Apple-converted-space">      </span>staff: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>duration: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>content: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>topic: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>rootEmotion: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>notes: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>jurisdiction: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>nextSession: '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>remarks: ''</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>setIsSessionFormOpen(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleClientSubmit = (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const age = calculateAge(clientForm.birthDate);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (editingClientId) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>setClients(clients.map(c =&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>c.id === editingClientId ? { ...clientForm, id: editingClientId, age, sessions: c.sessions } : c</p>
<p class="p1"><span class="Apple-converted-space">      </span>));</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">      </span>setClients([...clients, { ...clientForm, id: Date.now(), age, sessions: [] }]);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>resetClientForm();</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleSessionSubmit = (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const newSession = { ...sessionForm, id: Date.now() };</p>
<p class="p1"><span class="Apple-converted-space">    </span>setClients(clients.map(c =&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>c.id === selectedClient.id ? { ...c, sessions: [...c.sessions, newSession] } : c</p>
<p class="p1"><span class="Apple-converted-space">    </span>));</p>
<p class="p1"><span class="Apple-converted-space">    </span>setSelectedClient({ ...selectedClient, sessions: [...selectedClient.sessions, newSession] });</p>
<p class="p1"><span class="Apple-converted-space">    </span>resetSessionForm();</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleEditClient = (client) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>setClientForm(client);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setEditingClientId(client.id);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setIsClientFormOpen(true);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleDeleteClient = (id) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (window.confirm('このクライアント情報を削除しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>setClients(clients.filter(c =&gt; c.id !== id));</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (selectedClient &amp;&amp; selectedClient.id === id) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSelectedClient(null);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setViewMode('list');</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleDeleteSession = (clientId, sessionId) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (window.confirm('このセッション記録を削除しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>setClients(clients.map(c =&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>c.id === clientId ? { ...c, sessions: c.sessions.filter(s =&gt; s.id !== sessionId) } : c</p>
<p class="p1"><span class="Apple-converted-space">      </span>));</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (selectedClient &amp;&amp; selectedClient.id === clientId) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>setSelectedClient({</p>
<p class="p1"><span class="Apple-converted-space">          </span>...selectedClient,</p>
<p class="p1"><span class="Apple-converted-space">          </span>sessions: selectedClient.sessions.filter(s =&gt; s.id !== sessionId)</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const filteredClients = clients.filter(c =&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>c.name.toLowerCase().includes(searchTerm.toLowerCase()) ||</p>
<p class="p1"><span class="Apple-converted-space">    </span>c.kana.toLowerCase().includes(searchTerm.toLowerCase()) ||</p>
<p class="p1"><span class="Apple-converted-space">    </span>c.clientId.toLowerCase().includes(searchTerm.toLowerCase())</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>if (viewMode === 'detail' &amp;&amp; selectedClient) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return (</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="min-h-screen bg-gradient-to-br from-yellow-50 to-amber-50 p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="max-w-6xl mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;button onClick={() =&gt; setViewMode('list')} className="mb-4 text-yellow-700 hover:text-yellow-900 font-medium flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>← クライアント一覧に戻る</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="bg-white rounded-lg shadow-lg p-6 mb-6 border-t-4 border-yellow-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex justify-between items-start mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 className="text-2xl font-bold text-yellow-800"&gt;{selectedClient.name}&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-yellow-700"&gt;クライアントID: {selectedClient.clientId}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onClick={() =&gt; handleEditClient(selectedClient)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="flex items-center gap-2 bg-yellow-400 text-yellow-900 px-4 py-2 rounded-lg hover:bg-yellow-500 transition shadow-md font-semibold"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Edit2 size={18} /&gt;クライアント情報編集</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onClick={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (window.confirm(`${selectedClient.name}さんのデータを削除しますか？この操作は取り消せません。`)) {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>handleDeleteClient(selectedClient.id);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Trash2 size={18} /&gt;削除</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 bg-yellow-50 p-4 rounded-lg border border-yellow-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;生年月日&lt;/p&gt;&lt;p className="font-medium"&gt;{selectedClient.birthDate} ({selectedClient.age}歳)&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-sm text-gray-600"&gt;スピリチュアルNo.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const spiritualNum = calculateSpiritualNumber(selectedClient.birthDate);</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const spiritualInfo = getSpiritualInfo(spiritualNum);</p>
<p class="p1"><span class="Apple-converted-space">                  </span>return spiritualInfo ? (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;span className={`${spiritualInfo.bgColor} ${spiritualInfo.textColor} px-3 py-1 rounded-full font-bold border-2 ${spiritualInfo.borderColor}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>{spiritualNum}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;span className="font-medium text-gray-700"&gt;{spiritualInfo.name}（{spiritualInfo.color}）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>) : &lt;p className="font-medium"&gt;—&lt;/p&gt;;</p>
<p class="p1"><span class="Apple-converted-space">                </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;性別&lt;/p&gt;&lt;p className="font-medium"&gt;{selectedClient.gender}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;血液型&lt;/p&gt;&lt;p className="font-medium"&gt;{selectedClient.bloodType}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;電話番号&lt;/p&gt;&lt;p className="font-medium"&gt;{selectedClient.phone}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;地域&lt;/p&gt;&lt;p className="font-medium"&gt;{selectedClient.area}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;セッション金額&lt;/p&gt;&lt;p className="font-medium text-green-700"&gt;¥{selectedClient.sessionPrice ? Number(selectedClient.sessionPrice).toLocaleString() : '—'}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-gray-600"&gt;紹介者&lt;/p&gt;&lt;p className="font-medium"&gt;{selectedClient.referrer || '—'}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;&lt;p className="text-sm text-slate-600"&gt;担当者&lt;/p&gt;&lt;p className="font-medium text-slate-800"&gt;{selectedClient.assignedStaff}&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="text-xl font-bold text-slate-900"&gt;セッション記録&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button onClick={() =&gt; setIsSessionFormOpen(true)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;Plus size={18} /&gt;新規セッション追加</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{isSessionFormOpen &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-slate-50 p-6 rounded-lg mb-6 border border-slate-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h4 className="text-lg font-bold mb-4 text-slate-900"&gt;新規セッション記録&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;セッション日&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="date" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.date}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, date: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;担当者&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.staff}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, staff: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;所要時間&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" placeholder="例: 60分" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.duration}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, duration: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;所管&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" placeholder="例: 東京オフィス" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.jurisdiction}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, jurisdiction: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="md:col-span-2"&gt;&lt;label className="block text-sm font-medium mb-1"&gt;お題&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.topic}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, topic: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="md:col-span-2"&gt;&lt;label className="block text-sm font-medium mb-1"&gt;内容&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea rows="3" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.content}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, content: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="md:col-span-2"&gt;&lt;label className="block text-sm font-medium mb-1"&gt;根本感情&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" placeholder="例: 不安、焦燥感" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.rootEmotion}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, rootEmotion: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="md:col-span-2"&gt;&lt;label className="block text-sm font-medium mb-1"&gt;特記事項&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea rows="3" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.notes}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, notes: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="md:col-span-2"&gt;&lt;label className="block text-sm font-medium mb-1"&gt;次回への申し送り事項&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea rows="2" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.nextSession}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, nextSession: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="md:col-span-2"&gt;&lt;label className="block text-sm font-medium mb-1"&gt;備考&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea rows="2" className="w-full px-3 py-2 border rounded-lg" value={sessionForm.remarks}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>onChange={(e) =&gt; setSessionForm({...sessionForm, remarks: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="flex gap-3 mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;button onClick={handleSessionSubmit} className="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"&gt;記録を保存&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;button onClick={resetSessionForm} className="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400"&gt;キャンセル&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{selectedClient.sessions.length === 0 ? (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-center text-gray-500 py-8"&gt;セッション記録がありません&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedClient.sessions.slice().reverse().map((session) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div key={session.id} className="border rounded-lg p-4 hover:shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p className="text-lg font-bold"&gt;{session.date}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p className="text-sm text-gray-600"&gt;担当者: {session.staff} | 所要時間: {session.duration} | 所管: {session.jurisdiction}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;button onClick={() =&gt; handleDeleteSession(selectedClient.id, session.id)} className="text-red-600 hover:text-red-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;Trash2 size={18} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div&gt;&lt;span className="text-sm font-semibold"&gt;お題: &lt;/span&gt;&lt;span className="text-sm text-blue-700 font-medium"&gt;{session.topic}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div&gt;&lt;span className="text-sm font-semibold"&gt;内容: &lt;/span&gt;&lt;span className="text-sm"&gt;{session.content}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className="bg-purple-50 p-2 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-semibold"&gt;根本感情: &lt;/span&gt;&lt;span className="text-sm"&gt;{session.rootEmotion}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{session.notes &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;&lt;span className="text-sm font-semibold"&gt;特記事項: &lt;/span&gt;&lt;span className="text-sm"&gt;{session.notes}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{session.nextSession &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div className="bg-yellow-50 p-2 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;span className="text-sm font-semibold"&gt;次回への申し送り事項: &lt;/span&gt;&lt;span className="text-sm"&gt;{session.nextSession}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{session.remarks &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;&lt;span className="text-sm font-semibold"&gt;備考: &lt;/span&gt;&lt;span className="text-sm text-gray-600"&gt;{session.remarks}&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="min-h-screen bg-gradient-to-br from-yellow-50 to-amber-50 p-3 md:p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="max-w-7xl mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="bg-white rounded-lg shadow-lg p-4 md:p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="border-b-4 border-yellow-400 pb-3 md:pb-4 mb-4 md:mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex flex-col md:flex-row md:justify-between md:items-center gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h1 className="text-xl md:text-3xl font-bold text-yellow-800"&gt;クライアント管理システム&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className="text-xs md:text-sm text-yellow-700 mt-1"&gt;Client Management System&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex flex-wrap gap-2 items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onClick={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// CSVデータを作成（クライアント情報）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let csvContent = 'クライアントID,氏名,カナ,生年月日,年齢,性別,電話番号,地域,血液型,紹介者,担当者,セッション金額\n';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>clients.forEach(client =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const row = [</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.clientId,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.name,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.kana,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.birthDate,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.age,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.gender,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.phone,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.area,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.bloodType,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.referrer || '',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.assignedStaff,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>client.sessionPrice || ''</p>
<p class="p1"><span class="Apple-converted-space">                      </span>].map(cell =&gt; `"${cell}"`).join(',');</p>
<p class="p1"><span class="Apple-converted-space">                      </span>csvContent += row + '\n';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// BOMを追加してExcelで文字化けを防ぐ</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const bom = new Uint8Array([0xEF, 0xBB, 0xBF]);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const blob = new Blob([bom, csvContent], { type: 'text/csv;charset=utf-8;' });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const url = URL.createObjectURL(blob);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const link = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.href = url;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.download = `クライアント情報_${new Date().toISOString().split('T')[0]}.csv`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.click();</p>
<p class="p1"><span class="Apple-converted-space">                  </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="text-sm bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition font-medium"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>クライアントエクスポート</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// セッション記録のCSVを作成</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let csvContent = 'クライアントID,クライアント名,セッション日,担当者,所要時間,お題,内容,根本感情,特記事項,所管,次回への申し送り事項,備考\n';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>clients.forEach(client =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>client.sessions.forEach(session =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const row = [</p>
<p class="p1"><span class="Apple-converted-space">                          </span>client.clientId,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>client.name,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.date,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.staff,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.duration,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.topic,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.content,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.rootEmotion,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.notes || '',</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.jurisdiction,</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.nextSession || '',</p>
<p class="p1"><span class="Apple-converted-space">                          </span>session.remarks || ''</p>
<p class="p1"><span class="Apple-converted-space">                        </span>].map(cell =&gt; `"${cell}"`).join(',');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>csvContent += row + '\n';</p>
<p class="p1"><span class="Apple-converted-space">                      </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const bom = new Uint8Array([0xEF, 0xBB, 0xBF]);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const blob = new Blob([bom, csvContent], { type: 'text/csv;charset=utf-8;' });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const url = URL.createObjectURL(blob);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const link = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.href = url;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.download = `セッション記録_${new Date().toISOString().split('T')[0]}.csv`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.click();</p>
<p class="p1"><span class="Apple-converted-space">                  </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="text-sm bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition font-medium"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>セッションエクスポート</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const dataStr = JSON.stringify(clients, null, 2);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const dataBlob = new Blob([dataStr], { type: 'application/json' });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const url = URL.createObjectURL(dataBlob);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const link = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.href = url;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.download = `全データバックアップ_${new Date().toISOString().split('T')[0]}.json`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>link.click();</p>
<p class="p1"><span class="Apple-converted-space">                  </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="text-xs bg-gray-400 text-white px-3 py-2 rounded hover:bg-gray-500 transition"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>バックアップ</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const input = document.createElement('input');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>input.type = 'file';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>input.accept = '.json';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>input.onchange = (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const file = e.target.files[0];</p>
<p class="p1"><span class="Apple-converted-space">                      </span>if (file) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reader.onload = (event) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                          </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const importedData = JSON.parse(event.target.result);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (window.confirm('データをインポートしますか？現在のデータは上書きされます。')) {</p>
<p class="p1"><span class="Apple-converted-space">                              </span>setClients(importedData);</p>
<p class="p1"><span class="Apple-converted-space">                              </span>alert('データをインポートしました！');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                          </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>alert('ファイルの読み込みに失敗しました。');</p>
<p class="p1"><span class="Apple-converted-space">                          </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>};</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reader.readAsText(file);</p>
<p class="p1"><span class="Apple-converted-space">                      </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>input.click();</p>
<p class="p1"><span class="Apple-converted-space">                  </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="text-xs bg-gray-400 text-white px-3 py-2 rounded hover:bg-gray-500 transition"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>復元</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex-1 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;Search className="absolute left-3 top-3 text-gray-400" size={20} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input type="text" placeholder="クライアント名、カナ、クライアントIDで検索..."</p>
<p class="p1"><span class="Apple-converted-space">                </span>className="w-full pl-10 pr-4 py-2 border rounded-lg" value={searchTerm}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setSearchTerm(e.target.value)} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={() =&gt; { setIsClientFormOpen(true); setEditingClientId(null); resetClientForm(); }}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="flex items-center gap-2 bg-yellow-400 text-yellow-900 px-6 py-2 rounded-lg hover:bg-yellow-500 transition shadow-md font-semibold"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;Plus size={20} /&gt;新規クライアント登録</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{isClientFormOpen &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="bg-yellow-50 p-6 rounded-lg mb-6 border border-yellow-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h2 className="text-xl font-bold mb-4 text-yellow-800"&gt;{editingClientId ? 'クライアント情報編集' : '新規クライアント登録'}&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="grid grid-cols-1 md:grid-cols-3 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;クライアントID&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="text" className="w-full px-3 py-2 border rounded-lg" value={clientForm.clientId}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, clientId: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;氏名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="text" className="w-full px-3 py-2 border rounded-lg" value={clientForm.name}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, name: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;カナ&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="text" className="w-full px-3 py-2 border rounded-lg" value={clientForm.kana}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, kana: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;生年月日&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="date" className="w-full px-3 py-2 border rounded-lg" value={clientForm.birthDate}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, birthDate: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;性別&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;select className="w-full px-3 py-2 border rounded-lg" value={clientForm.gender}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, gender: e.target.value})}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;option&gt;男性&lt;/option&gt;&lt;option&gt;女性&lt;/option&gt;&lt;option&gt;その他&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;血液型&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;select className="w-full px-3 py-2 border rounded-lg" value={clientForm.bloodType}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, bloodType: e.target.value})}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;option value=""&gt;選択&lt;/option&gt;&lt;option&gt;A型&lt;/option&gt;&lt;option&gt;B型&lt;/option&gt;&lt;option&gt;O型&lt;/option&gt;&lt;option&gt;AB型&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;電話番号&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="tel" className="w-full px-3 py-2 border rounded-lg" value={clientForm.phone}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, phone: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;地域&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="text" placeholder="例: 東京都渋谷区" className="w-full px-3 py-2 border rounded-lg" value={clientForm.area}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, area: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;紹介者&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="text" placeholder="例: 田中様からのご紹介" className="w-full px-3 py-2 border rounded-lg" value={clientForm.referrer}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, referrer: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;担当者&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="text" className="w-full px-3 py-2 border rounded-lg" value={clientForm.assignedStaff}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, assignedStaff: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;&lt;label className="block text-sm font-medium mb-1"&gt;セッション金額(円)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input type="number" placeholder="例: 10000" className="w-full px-3 py-2 border rounded-lg" value={clientForm.sessionPrice}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={(e) =&gt; setClientForm({...clientForm, sessionPrice: e.target.value})} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex gap-3 mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onClick={handleClientSubmit} className="bg-yellow-400 text-yellow-900 px-6 py-2 rounded-lg hover:bg-yellow-500 transition shadow-md font-semibold"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{editingClientId ? '更新' : '登録'}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onClick={resetClientForm} className="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition"&gt;キャンセル&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="overflow-x-auto shadow-md rounded-lg -mx-4 md:mx-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;table className="w-full min-w-[640px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;thead className="bg-yellow-400 text-yellow-900"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold"&gt;ID&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold"&gt;氏名&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold hidden md:table-cell"&gt;カナ&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold hidden sm:table-cell"&gt;年齢&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold hidden lg:table-cell"&gt;性別&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold hidden lg:table-cell"&gt;担当者&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold"&gt;記録&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;th className="px-2 md:px-4 py-2 md:py-3 text-center text-xs md:text-sm font-semibold"&gt;操作&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{filteredClients.map((client, index) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;tr key={client.id} className={index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm"&gt;{client.clientId}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;button<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>onClick={() =&gt; { setSelectedClient(client); setViewMode('detail'); }}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>className="text-blue-600 hover:text-blue-800 hover:underline truncate max-w-[120px] md:max-w-none block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>{client.name}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm hidden md:table-cell"&gt;{client.kana}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm hidden sm:table-cell"&gt;{client.age}歳&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm hidden lg:table-cell"&gt;{client.gender}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-yellow-800 font-medium hidden lg:table-cell"&gt;{client.assignedStaff}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;span className="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>{client.sessions.length}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td className="px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className="flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onClick={() =&gt; { setSelectedClient(client); setViewMode('detail'); }}</p>
<p class="p1"><span class="Apple-converted-space">                          </span>className="text-green-600 hover:text-green-800" title="詳細"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;Eye size={16} className="md:w-[18px] md:h-[18px]" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{filteredClients.length === 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="text-center py-8 text-gray-500"&gt;該当するクライアント情報がありません&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="mt-4 md:mt-6 space-y-4 md:space-y-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="bg-gradient-to-r from-yellow-300 to-yellow-400 text-yellow-900 p-4 md:p-6 rounded-lg shadow-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className="font-semibold mb-3 md:mb-4 text-base md:text-lg"&gt;クライアント統計&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="bg-white bg-opacity-60 p-3 md:p-4 rounded-lg backdrop-blur-sm border border-yellow-500 border-opacity-30"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xs md:text-sm text-yellow-800"&gt;総数&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xl md:text-3xl font-bold mt-1 md:mt-2"&gt;{clients.length}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="bg-white bg-opacity-60 p-3 md:p-4 rounded-lg backdrop-blur-sm border border-yellow-500 border-opacity-30"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xs md:text-sm text-yellow-800"&gt;男性&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xl md:text-3xl font-bold mt-1 md:mt-2"&gt;{clients.filter(c =&gt; c.gender === '男性').length}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="bg-white bg-opacity-60 p-3 md:p-4 rounded-lg backdrop-blur-sm border border-yellow-500 border-opacity-30"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xs md:text-sm text-yellow-800"&gt;女性&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xl md:text-3xl font-bold mt-1 md:mt-2"&gt;{clients.filter(c =&gt; c.gender === '女性').length}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="bg-white bg-opacity-60 p-3 md:p-4 rounded-lg backdrop-blur-sm border border-yellow-500 border-opacity-30"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xs md:text-sm text-yellow-800"&gt;総セッション数&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-xl md:text-3xl font-bold mt-1 md:mt-2"&gt;{clients.reduce((sum, c) =&gt; sum + c.sessions.length, 0)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; setShowDetailStats(!showDetailStats)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className="mt-3 md:mt-4 w-full bg-white bg-opacity-50 hover:bg-opacity-70 text-yellow-900 px-4 py-2 rounded-lg transition flex items-center justify-center gap-2 border border-yellow-500 border-opacity-30 font-semibold text-sm md:text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{showDetailStats ? &lt;ChevronUp size={18} /&gt; : &lt;ChevronDown size={18} /&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                </span>{showDetailStats ? '詳細統計を非表示' : '詳細統計を表示'}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>{showDetailStats &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="grid grid-cols-1 md:grid-cols-2 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-white border-2 border-yellow-200 rounded-lg p-5 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="font-semibold mb-4 text-yellow-800 text-lg"&gt;担当者別クライアント数&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const staffCount = {};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>clients.forEach(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const staff = c.assignedStaff || '未設定';</p>
<p class="p1"><span class="Apple-converted-space">                      </span>staffCount[staff] = (staffCount[staff] || 0) + 1;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return Object.entries(staffCount).sort((a, b) =&gt; b[1] - a[1]).map(([staff, count]) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div key={staff} className="flex justify-between items-center py-3 border-b border-yellow-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-medium text-gray-700"&gt;{staff}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-lg font-bold text-yellow-700"&gt;{count}名&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>));</p>
<p class="p1"><span class="Apple-converted-space">                  </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-white border-2 border-yellow-200 rounded-lg p-5 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="font-semibold mb-4 text-yellow-800 text-lg"&gt;性別分布&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const genderCount = {};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>clients.forEach(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const gender = c.gender || '未設定';</p>
<p class="p1"><span class="Apple-converted-space">                      </span>genderCount[gender] = (genderCount[gender] || 0) + 1;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return Object.entries(genderCount).sort((a, b) =&gt; b[1] - a[1]).map(([gender, count]) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div key={gender} className="flex justify-between items-center py-3 border-b border-yellow-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-medium text-gray-700"&gt;{gender}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-lg font-bold text-pink-600"&gt;{count}名&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>));</p>
<p class="p1"><span class="Apple-converted-space">                  </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-white border-2 border-yellow-200 rounded-lg p-5 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="font-semibold mb-4 text-yellow-800 text-lg"&gt;担当者別セッション数&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const staffSessionCount = {};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>clients.forEach(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>c.sessions.forEach(s =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const staff = s.staff || '未設定';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>staffSessionCount[staff] = (staffSessionCount[staff] || 0) + 1;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return Object.entries(staffSessionCount).sort((a, b) =&gt; b[1] - a[1]).map(([staff, count]) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div key={staff} className="flex justify-between items-center py-3 border-b border-yellow-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-medium text-gray-700"&gt;{staff}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-lg font-bold text-green-700"&gt;{count}件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>));</p>
<p class="p1"><span class="Apple-converted-space">                  </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="bg-white border-2 border-yellow-200 rounded-lg p-5 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="font-semibold mb-4 text-yellow-800 text-lg"&gt;根本感情TOP10&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="space-y-2 max-h-64 overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const emotionCount = {};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>clients.forEach(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>c.sessions.forEach(s =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (s.rootEmotion) {</p>
<p class="p1"><span class="Apple-converted-space">                          </span>const emotions = s.rootEmotion.split(/[、,，]/).map(e =&gt; e.trim()).filter(e =&gt; e);</p>
<p class="p1"><span class="Apple-converted-space">                          </span>emotions.forEach(emotion =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>emotionCount[emotion] = (emotionCount[emotion] || 0) + 1;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>});</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return Object.entries(emotionCount).sort((a, b) =&gt; b[1] - a[1]).slice(0, 10).map(([emotion, count]) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div key={emotion} className="flex justify-between items-center py-3 border-b border-yellow-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-medium text-gray-700"&gt;{emotion}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-lg font-bold text-purple-700"&gt;{count}件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>));</p>
<p class="p1"><span class="Apple-converted-space">                  </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="bg-white border-2 border-yellow-200 rounded-lg p-5 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="font-semibold text-yellow-800 text-lg"&gt;月別セッション売上統計&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={() =&gt; setShowMonthlyRevenue(!showMonthlyRevenue)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="text-yellow-700 hover:text-yellow-900 transition"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{showMonthlyRevenue ? &lt;ChevronUp size={20} /&gt; : &lt;ChevronDown size={20} /&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const monthlyRevenue = {};</p>
<p class="p1"><span class="Apple-converted-space">                  </span>clients.forEach(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const price = Number(c.sessionPrice) || 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>c.sessions.forEach(s =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const date = new Date(s.date);</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const yearMonth = `${date.getFullYear()}年${String(date.getMonth() + 1).padStart(2, '0')}月`;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>if (!monthlyRevenue[yearMonth]) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>monthlyRevenue[yearMonth] = { count: 0, revenue: 0 };</p>
<p class="p1"><span class="Apple-converted-space">                      </span>}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>monthlyRevenue[yearMonth].count += 1;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>monthlyRevenue[yearMonth].revenue += price;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                  </span>});</p>
<p class="p2"><span class="Apple-converted-space">                  </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>const sortedMonths = Object.entries(monthlyRevenue).sort((a, b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const [yearA, monthA] = a[0].match(/\d+/g).map(Number);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const [yearB, monthB] = b[0].match(/\d+/g).map(Number);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return yearB * 12 + monthB - (yearA * 12 + monthA);</p>
<p class="p1"><span class="Apple-converted-space">                  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>return sortedMonths.map(([month, data]) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div key={month} className="flex justify-between items-center py-3 px-4 bg-yellow-50 rounded-lg border border-yellow-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-semibold text-gray-800"&gt;{month}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-xs text-gray-600 ml-3"&gt;セッション数: {data.count}件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{showMonthlyRevenue &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-xl font-bold text-green-700"&gt;¥{data.revenue.toLocaleString()}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>));</p>
<p class="p1"><span class="Apple-converted-space">                </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>{clients.reduce((sum, c) =&gt; sum + c.sessions.length, 0) === 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-center text-gray-500 py-4"&gt;セッションデータがありません&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="bg-white border-2 border-yellow-200 rounded-lg p-5 shadow-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 className="font-semibold text-yellow-800 text-lg"&gt;担当者別売上統計&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={() =&gt; setShowStaffRevenue(!showStaffRevenue)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="text-yellow-700 hover:text-yellow-900 transition"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>{showStaffRevenue ? &lt;ChevronUp size={20} /&gt; : &lt;ChevronDown size={20} /&gt;}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const staffRevenue = {};</p>
<p class="p1"><span class="Apple-converted-space">                  </span>clients.forEach(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const price = Number(c.sessionPrice) || 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>c.sessions.forEach(s =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                      </span>const staff = s.staff || '未設定';</p>
<p class="p1"><span class="Apple-converted-space">                      </span>if (!staffRevenue[staff]) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>staffRevenue[staff] = { count: 0, revenue: 0 };</p>
<p class="p1"><span class="Apple-converted-space">                      </span>}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>staffRevenue[staff].count += 1;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>staffRevenue[staff].revenue += price;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                  </span>return Object.entries(staffRevenue).sort((a, b) =&gt; b[1].revenue - a[1].revenue).map(([staff, data]) =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div key={staff} className="flex justify-between items-center py-3 px-4 bg-yellow-50 rounded-lg border border-yellow-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-sm font-semibold text-gray-800"&gt;{staff}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-xs text-gray-600 ml-3"&gt;セッション数: {data.count}件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>{showStaffRevenue &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className="text-xl font-bold text-green-700"&gt;¥{data.revenue.toLocaleString()}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>));</p>
<p class="p1"><span class="Apple-converted-space">                </span>})()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>{clients.reduce((sum, c) =&gt; sum + c.sessions.length, 0) === 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p className="text-center text-gray-500 py-4"&gt;セッションデータがありません&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">export default ClientManagementSystem;</p>
</body>
</html>
